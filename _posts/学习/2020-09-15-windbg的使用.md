---
layout: post
title: windbg的使用
category: 学习
tags: [debugger,windbg]
---

# windbg的使用

这两天在看简单的汇编，想起来很早之前用windows的时候使用的bluescreen分析工具和windbg。
在win10的电脑上安装了下，大概700Mb的样子。配好了symbol，用notepad做下测试。

# 过程

1. 打开notepad，在里面写上一些话。
2. 打开windbg x64，attach 到notepad这个进程
3. 可以有多种方式找到notepad所使用的内存空间
   1. !address指令可以找到所有的，这里面有notepad的进程
   2. lm m notepad，这个指令可以找到notepad所使用的起始的内存地址
   3. !heap -a，这个指令显示notepad所使用的堆列表
4. 以!heap -a为例
   ![img](/images/tupian/heap1.jpg)
5. 看到index1的起始地址为：1febb0a0000
6. 增加一个偏移量1000，然后进行搜索，s -u 1febb0a0000 L0001000 “wo“
   1. 结果是这样的:000001fe`bb0a3e00  0077 006f 0020 006c 0065 0020 0067 0065  w.o. .l.e. .g.e.
7. du du 000001fe`bb0a3e00
   1. 结果是这样的：000001fe`bb0a3e00  "wo le ge qu ..你好..o "
8. 导出文件
   1. .writemem d:\demo2.txt 000001fe`bb0a3e00