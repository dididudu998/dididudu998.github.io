---
layout: post
title: 排除node_modules文件夹
category: tech
tags: [Linux]
description: 如果你也像我一样经常工作于Windows和Linux，那么这篇文章值得一看
---



# 问题

其实这个问题在git的时候不算是个什么事。

在git的目录添加个.gitignore文件，写上node_modules就解决的.

但是我有个习惯就是经常会将自己的所谓的project的文件夹zip一下保存。

为此我写了个小shell，每天定时zip我的project文件夹，然后git到我的私有存储里，git完成后，删除3天前的文件。因为是自己的存储，所以一直懒得也没有去做什么过滤或者节省空间这样的事情。

# 解决

现在不是github私有库可以免费用了么，就想着不如也git一份到github的私有库里面去，只要不大于100MB就好了啊。

同样的只要在原来的shell里面修改下，滤掉所有的node_modules文件夹，然后再添加下git 到我的github私有库就好。

过滤：

```shell
zip -r -P mypassword 'myproject'-$today.zip myproject_folder -x **\node_modules\* *.git
```

<font color="blue">使用**的目的是可以<b>recursive</b>b，我的目录搞的比较乱，找不到完全靠搜索。</font>

这里的

```shell
today=`date +%Y%m%d`
```

然后

```shell
pushd myzipfile_folder
git add .
git commit -m $today-'update'
git push myprivate_github master -f
```

做了个测试，没问题。

